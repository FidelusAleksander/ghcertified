<link rel="stylesheet" href="/css/practice-tests.css">
<div class="exam-container">
{{ range where .Site.RegularPages "Section" "practice_tests" }}
    {{ $include_exam := .Page.Params.include_exam }}
    {{ $questionCount := len (where (where .Site.RegularPages "Section" "questions") "Params.exam" $include_exam) }}
    <div class="card">
        <form class="content" action="{{ .RelPermalink }}" method="get">
            <div class="card-header">
                <img src="/images/{{.Params.badge}}" alt="{{ .Title }} badge" class="badge-image">
                <div class="card-title-area">
                    <h2 class="card-title">{{ .Title }}</h2>
                    <span class="question-count">{{ $questionCount }} questions available</span>
                </div>
            </div>

            <div class="card-body">
                <p class="card-description">{{ .Params.Description }}</p>
                
                <div class="domains-section">
                    <span class="domains-label">Topics covered:</span>
                    <ul class="check-list">
                        {{ range .Page.Params.domains }}
                            <li>{{ . }}</li>
                        {{ end }}
                    </ul>
                </div>
            </div>

            <div class="card-footer">
                {{ if .Page.Params.examDisabled }}
                    <a href="/" class="btn disabled">Unavailable</a>
                {{ else }}
                    <div class="questions-settings">
                        <label for="questions_{{ $include_exam }}">Practice with:</label>
                        <div class="input-group">
                            <input class="questions-input" name="questions" id="questions_{{ $include_exam }}" type="number" min="1"
                                max="{{ $questionCount }}" value="{{ $questionCount }}" step="1"
                                title="Number of questions to practice on" required />
                            <span class="input-suffix">questions</span>
                        </div>
                    </div>
                    <button type="submit" class="btn">Start Practice Test</button>
                {{ end }}
            </div>
        </form>
    </div>
{{ end }}
