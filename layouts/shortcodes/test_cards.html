<link rel="stylesheet" href="/css/practice-tests.css">
<div class="exam-container">
{{ range where .Site.RegularPages "Section" "practice_tests" }}
    {{ $include_exam := .Page.Params.include_exam }}
    {{ $questionCount := len (where (where .Site.RegularPages "Section" "questions") "Params.exam" $include_exam) }}
    <div class="card">
        <form class="content" action="{{ .RelPermalink }}" method="get">
            <div class="card-image">
                <img src="/images/{{.Params.badge}}" alt="{{ $include_exam }} badge" class="badge-image">
            </div>

            <div class="card-main">
                <div class="card-info">
                    <h2 class="card-title">{{ $include_exam }}</h2>
                    <span class="question-count">{{ $questionCount }} questions available</span>
                    <p class="card-description">{{ .Params.Description }}</p>
                </div>

                <div class="card-actions">
                    {{ if .Page.Params.examDisabled }}
                        <a href="/" class="btn disabled">Unavailable</a>
                    {{ else }}
                        <div class="questions-settings">
                            <label for="questions_{{ $include_exam }}">Practice with:</label>
                            <div class="input-group">
                                <input class="questions-input" name="questions" id="questions_{{ $include_exam }}" type="number" min="1"
                                    max="{{ $questionCount }}" value="{{ $questionCount }}" step="1"
                                    title="Number of questions to practice on" required />
                                <span class="input-suffix">questions</span>
                            </div>
                        </div>
                        <button type="submit" class="btn">Start Practice Test</button>
                    {{ end }}
                </div>
            </div>
        </form>
    </div>
{{ end }}
